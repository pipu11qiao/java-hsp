# 封装

1. 什么是封装
2. 有什么意义
3. 如何实现
4. 修改和完善代码， 用户希望你的代码在某些方面保持不变.为什么会产生这个问题。
5. 包的概念是什么，有什么用
6. 访问修饰符有哪些，是干什么的。具体每个修饰符的含义和使用

## 1. 什么是封装
访问控制通常被称为**隐藏实现(implementation hiding)**。 将数据和方法包装进类中，并把具体实现隐藏称作*封装(encapsulation)*。其结果就是同事带有特征和行为的数据类型。


## 2. 有什么意义
出于两个原因，访问控制在数据类型内部划定了边界，第一个是确立客户端程序员可以使用和不可以使用的边界。可以在结构中建立自己的内部机制，不用担心客户端程序员使用内部实现
第二个原因： 将接口和实现分离。 客户端程序员只能向public接口发送消息，就可以自由地修改任何不是public的事物

修改和完善代码， 用户希望你的代码在某些方面保持不变.面向对象设计中的一个基本的问题:如何区分变动的事物和不变的事物。

这个问题对于类库而言尤其重要。类库的使用者必须依赖他们所使用的那部分类库，并且知道如果使用了类库的新版本，不需要改写代码。另一方面，类库的开发者必须有修改和改进类库的自由，并保证客户代码不会受这些带动影响。

为了解决这一问题，java提供了访问修饰符（access specifier)供类库开发者指明哪些对于客户端程序员时可用的，哪些是不可用的。访问控制权限，从最大到最小依次是： 
public protected,包访问权限（package access)（没有关键字）和private

使用private修饰符，仅向客户端暴露你愿意他们使用的方法。可以封装一些不需要暴露的方法，然而这么做还有问题，类库组件的概念和对类库组件访问的控制仍然不完善。其中仍然堆在问题就是如何将类库组件捆绑到一个内聚的类库单元中。java通过package关键在加以控制，类在相同的包下还是不同包下，会影响访问修饰符。

## 包的概念

包内包含一组类，他们被组织在给单独的命名空间（namespage)下

java.util的命名空间下的ArrayList，使用ArrayList的一种方式胡思用其全名，java.util.ArrayList

```java

java.util.ArrayList list = new java.util.ArrayList()
```

```java
import java.util.ArrayList;

Arraylist list = new Arraylist
```

一个Java 源代码文件被称为一个**编译单元（compilation unit)**,(有时也称为**翻译单元(translation unit)**)。每个编译单元的文件名后缀必须是.java。在编译单元中可以有一个public类，他的类名必须与文件名相同。每个编译单元只能有一个public类，否则编译器不接受。如果这个编译单元还有其他类，那么包之外的是无法访问到这些类的。因为他们不是public类，此时他们为主public类提供支持类

### 代码组织

当编译一个.java文件时，.java文件的每个类都会有一个输出文件。每个输出的文件名和.java文件的每个类的类名相同，只是后缀名是.class。 在java中，可运行程序是一组.class文件，他们可以打包压缩成一个Java文档文件（JAR，使用jar文档生成器）。Java解析器负责查找、加载和解释这些文件。

package 关键字 定义了包名
包中的每个.java文件中可以有和文件名同名的public类

### 创建独一无二的包名

域名是独一无二的

java查找.class的方式

CLASSPATH

### 冲突

两个包中相同名字的类
用全名，别用*

### 定制工具库


##  访问权限修饰符

Java的访问权限修饰符，public,protected和private位于定义的类名，属性名和方法名之前。每个访问权限修饰符只能控制它所修饰的对象。
如果不提供访问修饰符，就意味着包访问权限。 都有访问权限控制。

### 包访问权限
默认访问权限不需要权限修饰符，就是包访问权限。 类可以被同一个包中的类访问，在包外看起来是private的权限。
包访问权限可以把类聚合到一个包下，以便他们能轻易地相互访问。包里的类赋予了他们包访问权限的成员相互访问的权限，

类控制着哪些代码有权访问自己的成员。取得对成员访问的唯一方式是：
1. 是成员成为public.那么无论是谁，无论在哪，都能访问它。
2. 赋予成员默认包访问权限，不用加任何访问修饰符，然后将其他类放在相同的包内。这样其他类就可以访问该成员
3. 在"复用"这一章你将看到，继承的类既可以访问到public成员，也可以访问到protected成员。
4. 提供访问器（accessor）和修改器(mutator)方法。有时也称为get/set方法


### public: 接口访问权限

public权限表示，对于每个人都是可用的。
### 默认包

包访问权限
### private: 你无法访问

关键字 private意味着除了包含该成员的类，其他任何类都无法访问这个成员。同一包中的其他类也无法访问private成员。许多人合作创建一个包也是有可能得，使用private，你可以自由地修改那个被修饰的成员，无须担心同一包下的其他类。

**使用private是非常重要的，尤其是再多线程环境中**

### protected: 继承访问权限

基类的创建者会希望某个特定的成员能比继承类访问，但不能被其他类访问。
protected也提供包访问权限。

### 包访问权限 Vs Public 构造器

在一个具有包访问权限的类中定义一个public的构造器并不能真的使这个构造器成为public

## 接口和实现


访问控制通常被称为**隐藏实现(implementation hiding)**。 将数据和方法包装进类中，并把具体实现隐藏称作*封装(encapsulation)*。其结果就是同事带有特征和行为的数据类型。

出于两个原因，访问控制在数据类型内部划定了边界，第一个是确立客户端程序员可以使用和不可以使用的边界。可以在结构中建立自己的内部机制，不用担心客户端程序员使用内部实现
第二个原因： 将接口和实现分离。 客户端程序员只能向public接口发送消息，就可以自由地修改任何不是public的事物

为了清洗起见，一种通用的访问权限组织风格是： public protected 包访问权限 private
好处是 类的使用者可以从头读起

## 类访问权限

访问权限修饰符也可以用于确定类库中的哪些类对于类库的使用者是可用的。

一个编译单元最多有一个public类，没有也是有可能的

